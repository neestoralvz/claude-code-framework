pattern_metadata:
  id: "standard-toc-v1"
  name: "Standard Table of Contents"
  version: "1.0.0"
  category: "content-structure"
  subcategory: "toc"
  description: "Standard table of contents with configurable sections, depth control, and accessibility support"
  author: "Claude Code System"
  created_date: "2025-08-19"
  last_modified: "2025-08-19"
  
dependencies:
  required: []
  optional: ["section-header-atoms/primary-header"]
  conflicts: ["abbreviated-toc"]
  
composition:
  composable: true
  standalone: true
  customization_points: ["sections", "depth", "style", "include_numbers"]
  
performance:
  caching_strategy: "dynamic"
  lazy_loading: false
  generation_cost: "low"
  
pattern_content:
  template: |
    ## Table of Contents
    {{#sections}}
    {{#if (lte depth 1)}}- [{{title}}](#{{anchor}}){{/if}}
    {{#if (eq depth 2)}}  - [{{title}}](#{{anchor}}){{/if}}
    {{#if (eq depth 3)}}    - [{{title}}](#{{anchor}}){{/if}}
    {{#if (eq depth 4)}}      - [{{title}}](#{{anchor}}){{/if}}
    {{/sections}}
    
  customization_schema:
    sections:
      type: "array"
      required: true
      description: "Array of section objects with title, anchor, and depth"
      schema:
        title: "string"
        anchor: "string"
        depth: "integer"
        optional: "boolean"
    depth:
      type: "integer"
      required: false
      default: 3
      description: "Maximum depth for TOC generation (1-6)"
      min: 1
      max: 6
    style:
      type: "string"
      required: false
      default: "standard"
      options: ["standard", "compact", "expanded", "numbered"]
      description: "TOC presentation style"
    include_numbers:
      type: "boolean"
      required: false
      default: false
      description: "Include section numbers in TOC entries"
      
validation_rules:
  - rule_id: "sections-required"
    description: "Sections array must contain at least one section"
    validation_logic: "sections.length > 0"
    severity: "error"
    
  - rule_id: "depth-valid-range"
    description: "Depth must be between 1 and 6"
    validation_logic: "depth >= 1 && depth <= 6"
    severity: "error"
    
  - rule_id: "anchor-format-valid"
    description: "Anchors should be valid markdown anchor format"
    validation_logic: "sections.every(s => /^[a-z0-9-]+$/.test(s.anchor))"
    severity: "warning"
    
  - rule_id: "depth-consistency"
    description: "Section depth should not skip levels"
    validation_logic: "validateDepthHierarchy(sections)"
    severity: "warning"
    
usage_examples:
  - name: "Architecture document TOC"
    description: "Standard TOC for architecture documentation"
    example: |
      sections:
        - title: "Core Architecture Overview"
          anchor: "core-architecture-overview"
          depth: 1
        - title: "System Components"
          anchor: "system-components"
          depth: 2
        - title: "Agent Orchestration"
          anchor: "agent-orchestration"
          depth: 2
        - title: "Command Integration"
          anchor: "command-integration"
          depth: 2
        - title: "Implementation Strategy"
          anchor: "implementation-strategy"
          depth: 1
      depth: 3
      style: "standard"
          
  - name: "Agent specification TOC"
    description: "TOC for agent specification documents"
    example: |
      sections:
        - title: "Agent Identity"
          anchor: "agent-identity"
          depth: 1
        - title: "Core Responsibilities"
          anchor: "core-responsibilities"
          depth: 1
        - title: "Operational Framework"
          anchor: "operational-framework"
          depth: 1
        - title: "Integration Points"
          anchor: "integration-points"
          depth: 1
        - title: "Success Validation"
          anchor: "success-validation"
          depth: 1
      depth: 2
      style: "compact"